${toc}

```{r setup, echo = FALSE, include = F}
library(knitr)
library(yaml)
library(tidyverse)
library(bigrquery)
library(magrittr)
library(plotly)

config <- read_yaml("config.yaml")
RND  <- "2"
CURRENT_TEAM <- config$team
SRC <- "vcf"

source("markdown_functions.R")
source("plot_functions.R")
source("query_functions.R")

knitr::read_chunk("knitr_chunks.R")

```

```{r validation3, echo = FALSE, include = F}
```

# TCR binding by flow (WashU)
This assay is a cytometry-based tetramer screen. See more details at Consortium Validation Page. Data is shown for top 20 ranked peptides only.

## Number of tested peptides
```{r plot1, echo = F, warning=F, fig.width = 20, fig.height = 10}
make_validated_submissions_boxplot(TCR_FLOW_I_df, "COUNT", "Number of tested peptides")
```


## Mean rank of tested peptides
```{r plot2, echo = F, warning=F, fig.width = 20, fig.height = 10}
make_validated_submissions_boxplot(TCR_FLOW_I_df, "MEAN_RANK", "Mean rank of tested peptides")
```


## Validation rate of tested peptides
```{r plot3, echo = F, warning=F, fig.width = 20, fig.height = 10}
make_validated_submissions_boxplot(TCR_FLOW_I_df, "RATE", "Validation rate of tested peptides")
```

# T cell reactivity screen (Mt. Sinai)

An in vitro functional assay for T cell proliferation. See more details at Consortium Validation Page. Data is shown for top 20 ranked peptides only.

## Number of tested peptides
```{r plot10, echo = F, warning=F, fig.width = 20, fig.height = 10}
make_validated_submissions_boxplot(TCELL_REACTIVITY_df, "COUNT", "Number of tested peptides")
```


## Mean rank of tested peptides
```{r plot11, echo = F, warning=F, fig.width = 20, fig.height = 10}
make_validated_submissions_boxplot(TCELL_REACTIVITY_df, "MEAN_RANK", "Mean rank of tested peptides")
```


## Validation rate of tested peptides
```{r plot12, echo = F, warning=F, fig.width = 20, fig.height = 10}
make_validated_submissions_boxplot(TCELL_REACTIVITY_df, "RATE", "Validation rate of tested peptides")
```
